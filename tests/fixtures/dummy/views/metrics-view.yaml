apiVersion: mission-control.flanksource.com/v1
kind: View
metadata:
  name: metrics
  namespace: mc
  uid: 28b2c3d4-e5f6-4a7b-8c9d-3e4f5a6b7c8d
  creationTimestamp: "2024-01-15T11:00:00Z"
spec:
  description: "View displaying system metrics"
  display:
    title: "System Metrics"
    icon: "chart-line"
    sidebar: true
    ordinal: 2
  queries:
    configs:
      configs:
        types:
          - "Kubernetes::Node"
  columns:
    - name: id
      type: string
      primaryKey: true
    - name: name
      type: string
    - name: cpu_usage
      type: number
    - name: memory_usage
      type: number
  mapping:
    id: "row.id"
    name: "row.name"
    cpu_usage: "row.properties ? row.properties.find(p, p.name == 'cpu').value : 0"
    memory_usage: "row.properties ? row.properties.find(p, p.name == 'memory').value : 0"
